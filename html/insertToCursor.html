<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insert Text at Cursor</title>
</head>

<body>
    <div id="myDiv" contenteditable="true" style="border: 1px solid #000; padding: 10px; resize: both; overflow: auto;">
        可编辑的内容
    </div>
    <button onclick="insertTextAtCursor()">插入文字</button>

    <script>
        function insertTextAtCursor(text) {
            const selection = window.getSelection();
            if (!selection.rangeCount) return;
            const range = selection.getRangeAt(0);
            range.deleteContents();

            const textNode = document.createTextNode(text);
            range.insertNode(textNode);

            // 移动光标到插入文本的末尾
            range.setStartAfter(textNode);
            range.setEndAfter(textNode);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    </script>
</body>

</html>